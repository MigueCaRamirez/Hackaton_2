<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transformación Digital en el Agro</title>
    <link rel="stylesheet" href="aspecto/css/styles.css">
</head>
<body>
    <header>
        <h1>Transformación Digital en el Agro</h1>
    </header>

    <nav>
        <a href="#tecnologias">Tecnologías</a>
        <a href="#beneficios">Acerca de nosotros</a>
        <a href="referencias.html">Referencias</a>
        <a href="Calendario.html">Planificador de cultivos</a>
        <div id="user-menu" style="position: relative; display: inline-block;">
            <a href="Registro.html" id="login-link">Iniciar sesión</a>
            <div id="dropdown-menu" style="display: none; 
            position: absolute; 
            background: #fff; 
            border: 1px solid #ccc; 
            border-radius: 5px; 
            padding: 10px; 
            z-index: 9999;">
                <p id="username" style="color: black; margin: 0;"></p>
                <button onclick="logout()" style="width: 100%; margin-top: 10px;">Cerrar sesión</button>
            </div>
        </div>
        
    </nav>

    <div id="background-container" class="img" style="color: white; padding: 4rem 2rem;">
        <!-- Capa oscura -->
        <div class="overlay"></div>
        
        <section class="hero">
            <h2>Innovación para el Futuro de la Agricultura</h2>
            <p>Explora cómo las tecnologías digitales están revolucionando el agro para hacerlo más sostenible, eficiente y rentable.</p>
        </section>
    
        <section id="tecnologias" class="section">
            <h2>Tecnologías Clave</h2>
            <div class="cards">
                <div class="card">
                    <img src="aspecto/img/dron1.png" alt="Drones en el agro">
                    <h3>Drones</h3>
                    <p>Optimiza el monitoreo de cultivos con imágenes aéreas y análisis en tiempo real.</p>
                </div>
                <div class="card">
                    <img src="aspecto/img/iot1.png" alt="IoT en agricultura">
                    <h3>IoT</h3>
                    <p>Sensores inteligentes para rastrear datos sobre humedad, temperatura y fertilización...</p>
                </div>
                <div class="card">
                    <img src="aspecto/img/big-data.png" alt="Big Data en el agro">
                    <h3>Big Data</h3>
                    <p>Analiza grandes volúmenes de datos para tomar decisiones informadas.</p>
                </div>
            </div>
        </section>
    </div>
    

    <section id="beneficios" class="section" style="background: #f1faee;">
        <h2>Beneficios</h2>
        <ul>
            <li>Aumento de la productividad y reducción de costos.</li>
            <li>Mayor sostenibilidad y uso eficiente de recursos.</li>
            <li>Decisiones basadas en datos para minimizar riesgos.</li>
        </ul>
    </section>

    <footer>
        <p>&copy; 2024 Transformación Digital en el Agro. Todos los derechos reservados.</p>
    </footer>

    <script>
        // Array con las URLs de las imágenes que quieres usar como fondo
        const images = [
            'aspecto/img/campos.png',
            'aspecto/img/maiz.jpg', // Cambia por la ruta de tu siguiente imagen
            'aspecto/img/maiz2.jpg', // Otra imagen
            // Agrega más imágenes si lo deseas
        ];

        // Contenedor donde se va a cambiar la imagen
        const backgroundContainer = document.getElementById('background-container');

        // Contador para saber qué imagen mostrar
        let currentImageIndex = 0;

        // Función para cambiar la imagen
        function changeBackgroundImage() {
            // Cambiar el fondo al siguiente índice
            backgroundContainer.style.backgroundImage = `url('${images[currentImageIndex]}')`;

            // Incrementar el índice para la siguiente imagen
            currentImageIndex++;

            // Si hemos llegado al final del array de imágenes, volver al principio
            if (currentImageIndex >= images.length) {
                currentImageIndex = 0;
            }
        }

        // Cambiar la imagen cada 5 segundos (5000 ms)
        setInterval(changeBackgroundImage, 5000);

        
    </script>
    <script>
        // Verificar si hay una sesión activa
        function checkSession() {
            const session = localStorage.getItem('session');
            const loginLink = document.getElementById('login-link');
            const dropdownMenu = document.getElementById('dropdown-menu');
            const usernameDisplay = document.getElementById('username');
    
            if (session) {
                const user = JSON.parse(session);
                
                // Cambiar el texto del enlace de "Iniciar sesión" por el nombre del usuario
                loginLink.textContent = `Bienvenido, ${user.fullname}`;
                loginLink.href = "javascript:void(0)"; // Evita redirigir a otra página
    
                // Mostrar el menú desplegable al hacer clic en el enlace
                loginLink.onclick = () => {
                    dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
                };
    
                // Mostrar el nombre del usuario en el menú desplegable
                usernameDisplay.textContent = user.fullname;
    
            } else {
                // Si no hay sesión activa, restaurar a "Iniciar sesión"
                loginLink.textContent = "Iniciar sesión";
                loginLink.href = "Registro.html";
                loginLink.onclick = null; // Quita cualquier función de clic
                dropdownMenu.style.display = 'none';
            }
        }
    
        // Función para cerrar sesión
        function logout() {
            localStorage.removeItem('session'); // Elimina la sesión del localStorage
            alert('Sesión cerrada.');
            window.location.reload(); // Refresca la página
        }
    
        // Llamar a la función al cargar la página
        document.addEventListener('DOMContentLoaded', checkSession);
    </script>
    
</body>
</html>
